@page "/dashboard"

<MudPaper Class="pa-2">
    <MudText Typo="Typo.h5" Color="Color.Primary" Class="mb-4">Throughput</MudText>

    <MudGrid>
        <MudItem xs="12" sm="6" md="3">
            <MudPaper Class="d-flex flex-row pt-6 pb-4" Style="height:100px;">
                <MudIcon Icon="@Icons.Material.Filled.Rule" Color="Color.Primary" Class="mx-4" Style="width:54px; height:54px;"></MudIcon>
                <div>
                    <MudText Typo="Typo.subtitle1" Class="mud-text-secondary mb-n1">Auto Approved</MudText>
                    <MudText Typo="Typo.h5">@((int)(RequestForServiceMetrics.GetAutoApprovedCount() / RequestForServiceMetrics.ElapsedMinutes)) / minute</MudText>
                </div>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" sm="6" md="3">
            <MudPaper Class="d-flex flex-row pt-6 pb-4" Style="height:100px;">
                <MudIcon Icon="@Icons.Material.Filled.HelpOutline" Color="Color.Primary" Class="mx-4" Style="width:54px; height:54px;"></MudIcon>
                <div>
                    <MudText Typo="Typo.subtitle1" Class="mud-text-secondary mb-n1">Total Received</MudText>
                    <MudText Typo="Typo.h5">@((int)((RequestForServiceMetrics.TotalCount - RequestForServiceMetrics.GetAutoApprovedCount()) / RequestForServiceMetrics.ElapsedMinutes)) / minute </MudText>
                </div>
            </MudPaper>
        </MudItem>
    </MudGrid>
    <MudChart ChartType="ChartType.Line" ChartSeries="@_series" @bind-SelectedIndex="Index" XAxisLabels="@_xAxisLabels" Width="850px" Height="300px"></MudChart>

    <MudText Typo="Typo.h5" Color="Color.Primary" Class="mb-4">Inventory</MudText>
    <MudGrid>
        <MudItem xs="12" sm="6" md="3">
            <MudPaper Class="d-flex flex-row pt-6 pb-4" Style="height:100px;">
                <MudIcon Icon="@Icons.Material.Filled.Rule" Color="Color.Primary" Class="mx-4" Style="width:54px; height:54px;"></MudIcon>
                <div>
                    <MudText Typo="Typo.subtitle1" Class="mud-text-secondary mb-n1">Auto Approved</MudText>
                    <MudText Typo="Typo.h5">@RequestForServiceMetrics.GetAutoApprovedCount()</MudText>
                </div>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" sm="6" md="3">
            <MudPaper Class="d-flex flex-row pt-6 pb-4" Style="height:100px;">
                <MudIcon Icon="@Icons.Material.Filled.HelpOutline" Color="Color.Primary" Class="mx-4" Style="width:54px; height:54px;"></MudIcon>
                <div>
                    <MudText Typo="Typo.subtitle1" Class="mud-text-secondary mb-n1">Undecided</MudText>
                    <MudText Typo="Typo.h5">@(RequestForServiceMetrics.TotalCount - RequestForServiceMetrics.GetAutoApprovedCount())</MudText>
                </div>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" sm="6" md="3">
            <MudPaper Class="d-flex flex-row pt-6 pb-4" Style="height:100px;">
                <MudIcon Icon="@Icons.Material.Filled.Reorder" Color="Color.Primary" Class="mx-4" Style="width:54px; height:54px;"></MudIcon>
                <div>
                    <MudText Typo="Typo.subtitle1" Class="mud-text-secondary mb-n1">Total</MudText>
                    <MudText Typo="Typo.h5">@RequestForServiceMetrics.TotalCount</MudText>
                </div>
            </MudPaper>
        </MudItem>
    </MudGrid>

    <MudChart ChartType="ChartType.Pie" InputData="@RequestForServiceMetrics.GetTotals()" @bind-SelectedIndex="Index" InputLabels="@labels" Width="200px" Height="200px" />
</MudPaper>

